(this.webpackJsonplacy_libby_capstone=this.webpackJsonplacy_libby_capstone||[]).push([[0],{59:function(e,t){},63:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(21),s=n.n(o),c=n(14),i=n(5),l=n(16),u=n(17),b=n(20),d=n(19),p=n(2),j=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:"HOME"})}}]),n}(a.Component),h=function(){return Object(p.jsx)("header",{children:Object(p.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",children:[Object(p.jsx)(c.b,{className:"navbar-brand",to:"/",children:"Little Free Libraries Inventory"}),Object(p.jsx)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:Object(p.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"nav-item active",children:Object(p.jsx)(c.b,{className:"nav-link",to:"/",children:"Home"})}),Object(p.jsx)("li",{className:"nav-item active",children:Object(p.jsx)(c.b,{className:"nav-link",to:"/libraries",children:"Libraries"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(c.b,{className:"nav-link",to:"/login",children:"Login"})})]})})]})})},f=n(27),g=n(22),m=n(23);n(64),n(48),n(65);m.a.initializeApp({apiKey:"AIzaSyByFSF0w1UjdsJw7QfZF3THdws7AJeLJak",authDomain:"lacylibbycapstonepractice.firebaseapp.com",projectId:"lacylibbycapstonepractice",storageBucket:"lacylibbycapstonepractice.appspot.com",messagingSenderId:"483873171024",appId:"1:483873171024:web:1b1054cc5eb7e856451355"}),m.a.auth();var y=m.a.storage().ref(),O=m.a.firestore(),v=O.collection("libraries"),x=(O.collection("users"),m.a),w=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={register:!0,user:{email:"",password:""}},e.handleForm=function(t){t.preventDefault();var n=e.state.user.email,a=e.state.user.password;e.state.register?x.auth().createUserWithEmailAndPassword(n,a).then((function(t){e.handleRegisterUser(t),t.user.sendEmailVerification().then((function(){console.log("email verification sent")}))})).catch((function(e){console.log(e)})):x.auth().signInWithEmailAndPassword(n,a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e.changeHandler=function(t){var n=t.target.name,a=t.target.value;e.setState((function(e){return{user:Object(g.a)(Object(g.a)({},e.user),{},Object(f.a)({},n,a))}}))},e.handleLogout=function(e){x.auth().signOut().then((function(){console.log("User logged out")}))},e.handleGetUserInfo=function(){var e=x.auth().currentUser;e?console.log(e):console.log("No User")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{onSubmit:function(t){return e.handleForm(t)},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:function(t){return e.changeHandler(t)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:function(t){return e.changeHandler(t)}})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:this.state.register?"Register":"Sign in"})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{onClick:function(){return e.handleLogout()},children:"Logout"})]})}}]),n}(a.Component),L=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(w,{})})}}]),n}(a.Component),U=function(){return Object(p.jsxs)(c.a,{children:[Object(p.jsx)(h,{}),Object(p.jsx)("main",{role:"main",className:"container",children:Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",component:j}),Object(p.jsx)(i.a,{exact:!0,path:"/login",component:L})]})})]})},k=n(33),T=n(25),N=[{elementType:"labels",stylers:[{visibility:"off"},{color:"#f49f53"}]},{featureType:"landscape",stylers:[{color:"#f9ddc5"},{lightness:-7}]},{featureType:"road",stylers:[{color:"#813033"},{lightness:43}]},{featureType:"poi.business",stylers:[{color:"#645c20"},{lightness:38}]},{featureType:"water",stylers:[{color:"#1994bf"},{saturation:-69},{gamma:.99},{lightness:43}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#f19f53"},{weight:1.3},{visibility:"on"},{lightness:16}]},{featureType:"poi.business"},{featureType:"poi.park",stylers:[{color:"#645c20"},{lightness:39}]},{featureType:"poi.school",stylers:[{color:"#a95521"},{lightness:35}]},{},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#813033"},{lightness:38},{visibility:"off"}]},{},{},{},{},{},{},{},{},{},{},{},{elementType:"labels"},{featureType:"poi.sports_complex",stylers:[{color:"#9e5916"},{lightness:32}]},{},{featureType:"poi.government",stylers:[{color:"#9e5916"},{lightness:46}]},{featureType:"transit.station",stylers:[{visibility:"off"}]},{featureType:"transit.line",stylers:[{color:"#813033"},{lightness:22}]},{featureType:"transit",stylers:[{lightness:38}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#f19f53"},{lightness:-10}]},{},{},{}],C=(n(50),n(32)),S=n.n(C),I=n(37),F=function(e){e.name;var t=e.id;e.onUpdateLibrary,e.lat,e.lng;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form",children:[Object(p.jsx)("label",{children:" Choose File"}),Object(p.jsx)("input",{type:"file",onChange:function(e){e.preventDefault();var n=e.target.files[0];console.log(n),y.child("/images/library/".concat(n.name)).put(n).then(function(){var e=Object(I.a)(S.a.mark((function e(a){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ref.getDownloadURL();case 2:r=e.sent,v.doc(t).update({photo_URL:r}),console.log("Uploaded image",n.name);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Upload File"})]})})},_={width:"90vw",height:"90vh"},E={lat:47.59994,lng:-122.32775},A={styles:N,disableDefaultUI:!0,zoomControl:!0},R=function(e){console.log("marker: ",e)},z=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){v.get().then((function(e){var t=function(e){var t=[];return e.forEach((function(e){t.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),t}(e);console.log(t),o(t)})).catch((function(e){console.log(e)}))}),[]);var s=function(e){var t=n.map((function(t){return t.id===e.id?e:t}));o(t)},c=Object(T.d)({googleMapsApiKey:"AIzaSyDx81DcgdJPpIl2iXx_UnG1g-WwziXewLg"}),i=c.isLoaded,l=c.loadError,u=r.a.useState(null),b=Object(k.a)(u,2),d=b[0],j=b[1];return l?"Error loading maps":i?Object(p.jsx)("div",{children:Object(p.jsxs)(T.a,{mapContainerStyle:_,zoom:15,center:E,options:A,id:"marker-example",children:[n.map((function(e){return Object(p.jsx)(T.c,{onLoad:R,position:{lat:e.lat,lng:e.lng},onUpdateLibrary:s,icon:{url:"/3redbooks.svg",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)},onClick:function(){j(e)}},e.id)})),d?Object(p.jsx)(T.b,{photo_URL:d.photo_URL,position:{lat:d.lat,lng:d.lng},onCloseClick:function(){j(null)},children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("h2",{children:[" ",d.name," Inventory"]}),Object(p.jsxs)("h3",{children:[d.dateUploaded.toString()," Date uploaded "]}),Object(p.jsx)("img",{src:d.photo_URL,alt:"Photo Inventory"}),Object(p.jsxs)("p",{children:["Name of Library : ",d.name]}),Object(p.jsx)(F,{id:d.id,name:d.name,photo_URL:d.photo_URL,onUpdateLibrary:s,lat:d.lat,lng:d.lng})]})}):null]})}):"Loading Maps"};s.a.render(Object(p.jsxs)(r.a.StrictMode,{children:[Object(p.jsx)(U,{}),Object(p.jsx)(z,{})]}),document.getElementById("root")),x.auth().onAuthStateChanged((function(e){e?(console.log(e.email),console.log(e.uid)):console.log("no user logged in")}))}},[[63,1,2]]]);
//# sourceMappingURL=main.921f6e1c.chunk.js.map