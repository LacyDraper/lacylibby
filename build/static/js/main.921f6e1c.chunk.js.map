{"version":3,"sources":["components/index.js","components/header.js","utils/firebase.js","components/user/form.js","components/user/login.js","routes.js","mapStyles.js","components/upload.js","App.js","utils/helpers.js","index.js"],"names":["Home","Component","Header","className","to","id","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","storageRef","storage","ref","db","firestore","librariesCollection","collection","LoginForm","state","register","user","email","password","handleForm","e","preventDefault","createUserWithEmailAndPassword","then","handleRegisterUser","sendEmailVerification","console","log","catch","error","signInWithEmailAndPassword","response","changeHandler","name","target","value","setState","prevState","handleLogout","signOut","handleGetUserInfo","getUser","currentUser","onSubmit","event","type","onChange","this","onClick","Login","Routes","role","exact","path","component","mapStyles","Upload","onUpdateLibrary","lat","lng","image","files","child","put","uploadSnapshot","a","getDownloadURL","downloadURL","doc","update","photo_URL","mapContainerStyle","width","height","center","options","styles","disableDefaultUI","zoomControl","onLoad","marker","App","useState","libraryData","setLibraryData","useEffect","get","snapshot","libraries","libraries_data","forEach","push","data","firebaseLooper","libraryToUpdate","map","library","useLoadScript","googleMapsApiKey","process","isLoaded","loadError","React","selected","setSelected","zoom","position","icon","url","scaledSize","window","google","maps","Size","origin","Point","anchor","onCloseClick","dateUploaded","toString","src","alt","ReactDOM","render","StrictMode","document","getElementById","onAuthStateChanged","uid"],"mappings":"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","file":"static/js/main.921f6e1c.chunk.js","sourcesContent":["import React,{ Component } from 'react'\n\nclass Home extends Component {\n\n    render(){ \n        return(\n            <>\n               HOME\n            </>\n        )\n    }\n\n}\n\n\nexport default Home;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n    return (\n        <header>\n            \n            <nav className=\"navbar navbar-expand-md navbar-dark fixed-top bg-dark\">\n                <Link className=\"navbar-brand\" to=\"/\">Little Free Libraries Inventory</Link>\n                <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n                    <ul className=\"navbar-nav mr-auto\">\n                        <li className=\"nav-item active\">\n                            <Link className=\"nav-link\" to=\"/\">Home</Link>\n                        </li>\n                        <li className=\"nav-item active\">\n                            <Link className=\"nav-link\" to=\"/libraries\">Libraries</Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/login\">Login</Link>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n        </header>\n    );\n};\n\nexport default Header;","import firebase from 'firebase/app';\n\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nimport 'firebase/storage';\n\n// SDK setup from lacy_libby_capstone firebase project\nconst firebaseConfig = {\n    apiKey: \"AIzaSyByFSF0w1UjdsJw7QfZF3THdws7AJeLJak\",\n    authDomain: \"lacylibbycapstonepractice.firebaseapp.com\",\n    projectId: \"lacylibbycapstonepractice\",\n    storageBucket: \"lacylibbycapstonepractice.appspot.com\",\n    messagingSenderId: \"483873171024\",\n    appId: \"1:483873171024:web:1b1054cc5eb7e856451355\"\n\n  };\n  \n  \n\nfirebase.initializeApp(firebaseConfig);\nfirebase.auth(); \n\n//we can use storageRef to access storage in other parts of our app\nexport const storage = firebase.storage();\nexport const storageRef = storage.ref();\n\nexport const db = firebase.firestore();\nexport const librariesCollection = db.collection('libraries');\nexport const usersCollection = db.collection('users')\nexport default firebase;\n","import React, { Component } from 'react';\nimport firebase,{ usersCollection} from '../../utils/firebase'\n\n\nclass LoginForm extends Component {\n    \n    // if register is true, it means it will register new user, false means user is already registered and will sign in \n    state = {\n        register: true,\n        user: {\n            email:'',\n            password:''\n        }\n    }\n    \n    // event handler function\n    handleForm = (e) => {\n        e.preventDefault();\n        const email = this.state.user.email\n        const password =  this.state.user.password\n        \n        if(this.state.register){\n            firebase\n            .auth()\n            .createUserWithEmailAndPassword(email,password)\n            .then( user => {\n                this.handleRegisterUser(user);\n                user.user.sendEmailVerification().then(()=> {\n                    console.log('email verification sent')\n                })\n            })\n            .catch(error => {\n                console.log(error)\n            })\n        } else {\n            firebase\n            .auth()\n            .signInWithEmailAndPassword(email, password)\n            .then( response => {\n                console.log(response)\n            })\n            .catch(error => {\n                console.log(error)\n            })\n        }\n    }\n    \n\n\n    // updates state to true or false with new user register or sign in \n    changeHandler = (e) => {\n        let name = e.target.name;\n        let value = e.target.value;\n        this.setState( prevState => ({\n            user:{\n                ...prevState.user,\n                [name]: value\n            }\n        }))\n\n    }\n\n\n\n    // logs a customer out if they are logged in \n    handleLogout = (e) => {\n        firebase.auth().signOut().then(()=> {\n            console.log('User logged out')\n        })\n    }\n    \n    \n    \n    // gets a users info in case you need to use if for something else maybe to add a library to watch list\n    handleGetUserInfo = () => {\n        let getUser = firebase.auth().currentUser;\n        if (getUser){\n            console.log(getUser)\n        } else {\n            console.log('No User')\n        }\n    }\n\n    \n    \n    \n    \n    render(){\n            return(\n                <>\n                <form onSubmit={ (event)=> this.handleForm(event) }>\n\n                    <div className=\"form-group\">\n                        <label>Email</label>\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            name=\"email\"\n                            onChange={ (event) => this.changeHandler(event)}\n                        >\n                        </input>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={ (event) => this.changeHandler(event)}\n                        >\n                        </input>\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                        { this.state.register ? 'Register' : 'Sign in'}\n                    </button>\n                    \n                </form>\n                <hr/>\n                <button onClick={ ()=> this.handleLogout()}>\n                    Logout\n\n                </button>\n            </>\n\n        )\n\n            }\n\n}\n        \nexport default LoginForm;\n   ","import React, { Component } from 'react';\nimport Form from './form';\n\nclass Login extends Component {\n    render(){\n        return(\n            <>\n                <Form/>\n            </>\n        )\n    }\n}\n\nexport default Login;","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// components \nimport Home from './components/index';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Login from './components/user/login';\n// import Upload from './components/upload';\n\nconst Routes = () => (\n    \n    <BrowserRouter>\n        <Header/>\n        <main role=\"main\" className=\"container\">\n            <Switch>\n                <Route exact path=\"/\" component={Home}/>\n                <Route exact path=\"/login\" component={Login}/>\n                {/* <Route exact path=\"/upload\" component={Upload}/> */}\n            </Switch>\n        </main>\n    </BrowserRouter>\n    )\n\nexport default Routes;","const mapStyles =\n[\n    {\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            },\n            {\n                \"color\": \"#f49f53\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"landscape\",\n        \"stylers\": [\n            {\n                \"color\": \"#f9ddc5\"\n            },\n            {\n                \"lightness\": -7\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"stylers\": [\n            {\n                \"color\": \"#813033\"\n            },\n            {\n                \"lightness\": 43\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.business\",\n        \"stylers\": [\n            {\n                \"color\": \"#645c20\"\n            },\n            {\n                \"lightness\": 38\n            }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"stylers\": [\n            {\n                \"color\": \"#1994bf\"\n            },\n            {\n                \"saturation\": -69\n            },\n            {\n                \"gamma\": 0.99\n            },\n            {\n                \"lightness\": 43\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.local\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#f19f53\"\n            },\n            {\n                \"weight\": 1.3\n            },\n            {\n                \"visibility\": \"on\"\n            },\n            {\n                \"lightness\": 16\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.business\"\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"stylers\": [\n            {\n                \"color\": \"#645c20\"\n            },\n            {\n                \"lightness\": 39\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.school\",\n        \"stylers\": [\n            {\n                \"color\": \"#a95521\"\n            },\n            {\n                \"lightness\": 35\n            }\n        ]\n    },\n    {},\n    {\n        \"featureType\": \"poi.medical\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#813033\"\n            },\n            {\n                \"lightness\": 38\n            },\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {},\n    {},\n    {},\n    {},\n    {},\n    {},\n    {},\n    {},\n    {},\n    {},\n    {},\n    {\n        \"elementType\": \"labels\"\n    },\n    {\n        \"featureType\": \"poi.sports_complex\",\n        \"stylers\": [\n            {\n                \"color\": \"#9e5916\"\n            },\n            {\n                \"lightness\": 32\n            }\n        ]\n    },\n    {},\n    {\n        \"featureType\": \"poi.government\",\n        \"stylers\": [\n            {\n                \"color\": \"#9e5916\"\n            },\n            {\n                \"lightness\": 46\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.station\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.line\",\n        \"stylers\": [\n            {\n                \"color\": \"#813033\"\n            },\n            {\n                \"lightness\": 22\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit\",\n        \"stylers\": [\n            {\n                \"lightness\": 38\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.local\",\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#f19f53\"\n            },\n            {\n                \"lightness\": -10\n            }\n        ]\n    },\n    {},\n    {},\n    {}\n]\n\nexport default mapStyles;","import React, { useState, useEffect } from 'react';\nimport { storage, storageRef , librariesCollection} from '../utils/firebase';\n\n\n\n\n\nconst Upload = ( { name, id, onUpdateLibrary ,lat, lng } ) => {\n\n    \n    const onFileChange =  (event) => {\n        event.preventDefault()\n        \n        const image = event.target.files[0]\n        console.log(image)\n        storageRef.child(`/images/library/${image.name}`)\n        \n        .put(image)\n        .then(async(uploadSnapshot) => {\n            // uploadSnapshot.ref.getDownloadURL expression gets resolved into a promise. we have to use await to unwrap the promise \n            const downloadURL = await uploadSnapshot.ref.getDownloadURL()\n            //const date = uploadSnapshot.FullMetadata.timeCreated()\n           \n           \n            // .set is updating the Firestore DB with new photo_URL field \n            librariesCollection.doc(id).update({\n              \n                photo_URL : downloadURL,\n                //dateUploaded : date\n\n            })\n            \n            \n           \n            \n            console.log('Uploaded image', image.name)\n        })\n    \n    }\n\n    \n    \n\n    return(\n        <>\n            <form>\n                <div className='form'>\n                    <label> Choose File</label>\n                    <input\n                        type='file'\n                        onChange={onFileChange}\n                    />\n                </div>\n                <button\n                type='submit'\n                className='btn btn-primary'\n                >\n                    Upload File\n                </button>\n            </form>\n        </>\n\n)\n\n\n}\nexport default Upload;","import React, { useState, useEffect } from 'react';\nimport {\n    GoogleMap,\n    useLoadScript,\n    Marker,\n    InfoWindow,\n    MarkerClusterer,\n} from \"@react-google-maps/api\";\n\n\n// import \"@reach/combobox/styles.css\";\n// import { APPCENTER } from \"ci-info\";\nimport mapStyles from \"./mapStyles\";\nimport { formatRelative } from \"date-fns\";\nimport { data } from \"browserslist\";\nimport { librariesCollection, db } from './utils/firebase.js';\nimport { firebaseLooper } from \"./utils/helpers\";\nimport Upload from \"./components/upload\";\n\n\n\n\nconst mapContainerStyle = {\n    width: '90vw',\n    height: '90vh',\n}\n\nconst center = {\n    lat: 47.599940,\n    lng: -122.327750,\n}\n\nconst options = {\n    styles: mapStyles,\n    disableDefaultUI: true,  \n    zoomControl: true,\n}\n\nconst onLoad = marker => {\n    console.log('marker: ', marker)\n}\n\n\nconst App = () => {\n    \n    // state to hold all library objects\n    const [libraryData, setLibraryData]  = useState([]);\n\n    useEffect(() => {\n        \n        librariesCollection.get().then(snapshot => {\n            const libraries = firebaseLooper(snapshot);\n            console.log(libraries);\n            setLibraryData(libraries)\n        }).catch (e => {\n            console.log(e)\n        })\n    },[]);\n    \n    // function to update state\n    const onUpdateLibrary = (libraryToUpdate) => {\n        const libraries = libraryData.map((library) => {\n            if (library.id === libraryToUpdate.id) {\n                return libraryToUpdate;\n            }\n            return library;\n        });\n        \n       setLibraryData(libraries);\n    }\n    \n    \n    const {isLoaded, loadError} = useLoadScript({\n        googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n        \n    });\n\n    \n    \n\n    \n    const [selected, setSelected] = React.useState(null);\n\n    if (loadError) return \"Error loading maps\";\n    if (!isLoaded) return \"Loading Maps\";\n    //props: container, see notes above where the variable is\n    //position the map\n    return <div>\n        \n        <GoogleMap \n        mapContainerStyle={mapContainerStyle} \n        zoom = {15} \n        center = {center}\n        options = { options }\n        id= \"marker-example\"\n        \n        >\n        {libraryData.map((marker => (\n        <Marker \n             \n            key={marker.id}     \n            onLoad={onLoad}\n            position = {{lat: marker.lat, lng: marker.lng}}\n            onUpdateLibrary={onUpdateLibrary}\n            // position = { position }\n            icon= {{\n            url: '/3redbooks.svg',\n            scaledSize: new window.google.maps.Size(30,30),\n            origin: new window.google.maps.Point(0,0),\n            anchor: new window.google.maps.Point(15,15) \n            }}\n            onClick={() => {\n            setSelected(marker);\n            }}\n            />\n        )))}\n        \n        {selected ? (\n            \n        <InfoWindow \n            photo_URL= {selected.photo_URL}\n            position= {{lat: selected.lat, lng: selected.lng}} \n            onCloseClick = {() => {\n\n        setSelected(null)}} //have to reset to null once x is clicked on window so that they can pop up agian when clicked\n        >\n        <div>\n            <h2> {selected.name} Inventory</h2>\n            <h3>{selected.dateUploaded.toString()} Date uploaded </h3>\n            <img src={selected.photo_URL} alt='Photo Inventory'/>\n            <p>\n                Name of Library : {selected.name}\n            </p>   \n            <Upload\n                id = {selected.id}\n                name = {selected.name}\n                photo_URL= {selected.photo_URL}\n                onUpdateLibrary = { onUpdateLibrary }\n                lat={selected.lat}\n                lng={selected.lng}\n            \n            />\n        </div>\n        </InfoWindow>\n        ) : null} \n        </GoogleMap>\n        </div>;\n    }    \n\n\nexport default App;","// helper function that returns the library data as a list of objects\n\nexport const firebaseLooper = (snapshot) => {\n    let libraries_data = [];\n    snapshot.forEach(doc => {\n        libraries_data.push({\n            ...doc.data(),\n            id : doc.id\n        })\n    })\n\n    return libraries_data;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './routes';\nimport firebase from './utils/firebase';\nimport App from './App';\n\n\nReactDOM.render(\n\n <React.StrictMode>\n    \n    <Routes/>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n//this detects a change in user status login logout etc. everytime a user is logged in you get the email and id of user. we get a user object back \nfirebase.auth().onAuthStateChanged( user => {\n  if (user) {\n    console.log(user.email)\n    console.log(user.uid)\n  } else{\n    console.log('no user logged in')\n  }\n})\n"],"sourceRoot":""}